
<!doctype html>
<html>
<head>
  <title><%=appData.appName%> - Add Exercises</title>
</head>
 <link rel="stylesheet" type="text/css" href="/main.css" />
<body>
   <div class="page-center">
    <div class="form-card">

  <h1>Add Exercises for <%= workout.workoutTypeName %></h1>
  <p>
    Date:
    <% if (workout.workoutDate.toISOString) { %>
      <%= workout.workoutDate.toISOString().slice(0,10) %>
    <% } else { %>
      <%= workout.workoutDate %>
    <% } %>
  </p>

  <h2>Exercises added so far</h2>

  <% if (!existingExercises || existingExercises.length === 0) { %>
    <p>No exercises added yet.</p>
  <% } else { %>
    <ul>
      <% existingExercises.forEach(ex => { %>
        <li>
          <strong><%= ex.exerciseName %></strong>

          <% if (workout.workoutTypeName === 'Strength Training') { %>
            – <%= ex.sets || '-' %> sets × <%= ex.repsPerSet || '-' %> reps
              @ <%= ex.weightKg || '-' %> kg
          <% } else if (workout.workoutTypeName === 'Cardio') { %>
            – <%= ex.durationInMinutes || '-' %> min,
              <%= ex.distanceKm || '-' %> km
          <% } else { %>
            <% if (ex.durationInMinutes || ex.distanceKm) { %>
              – <%= ex.durationInMinutes || '-' %> min,
                <%= ex.distanceKm || '-' %> km
            <% } %>
          <% } %>

          <% if (ex.notes) { %>
            <br><em><%= ex.notes %></em>
          <% } %>
        </li>
      <% }) %>
    </ul>
  <% } %>

  <hr>

  <h2>Add a new exercise</h2>

  <form action="../added" method="POST">

    <p>
      <label for="exerciseTypeId">Exercise:</label>
      <select id="exerciseTypeId" name="exerciseTypeId" required>
        <% exerciseTypes.forEach(ex => { %>
          <option value="<%= ex.id %>"><%= ex.name %></option>
        <% }) %>
      </select>
    </p>

  
    <% if (workout.workoutTypeName === 'Strength Training') { %>
      <h3>Strength details</h3>
      <p>
        <label for="sets">Sets:</label>
        <input id="sets" name="sets" type="number" min="1">
      </p>
      <p>
        <label for="repsPerSet">Reps per set:</label>
        <input id="repsPerSet" name="repsPerSet" type="number" min="1">
      </p>
      <p>
        <label for="weightKg">Weight (kg):</label>
        <input id="weightKg" name="weightKg" type="number" step="0.5">
      </p>
    <% } %>


    <% if (workout.workoutTypeName === 'Cardio') { %>
      <h3>Cardio details</h3>
      <p>
        <label for="durationInMinutes">Duration (minutes):</label>
        <input id="durationInMinutes" name="durationInMinutes" type="number" min="1">
      </p>
      <p>
        <label for="distanceKm">Distance (km):</label>
        <input id="distanceKm" name="distanceKm" type="number" step="0.01">
      </p>
    <% } %>

  
    <p>
      <label for="notes">Notes:</label><br>
      <textarea id="notes" name="notes" rows="3" cols="40"></textarea>
    </p>

    <p>
      <button type="submit">Add exercise</button>
      <a href="/">Finish workout</a>
    </p>

  </form>
    </div>
     </div>
</body>
</html>

